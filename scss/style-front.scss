@charset "UTF-8";

@import "compass/css3";
@import "perlovs/essentials/*";
@import "perlovs/settings/*";
@import "perlovs/base/*";

// Home.nav
$home-nav-font-size: rem-calc(22);
$home-nav-margin: $home-nav-font-size / 2;
$home-nav-li-margin: rem-calc(11);
$home-nav-a-color: #FFF;
$home-nav-a-initial-opacity: 0.6;
$home-nav-a-transition: opacity 1000ms;

// Home.Article
$home-article-bg-color: #FFF;
$home-article-padding: rem-calc(16);

// -----------------------
// Home
// -----------------------
body.home {

	height: 100%;
	margin: 0;
	overflow: auto;
	// @media #{$medium-up} {
	// 	overflow: hidden;
	// }
	padding: 0;
	width: 100%;
}

nav {
	position: fixed;
	right: $column-gutter;
	top: $home-nav-margin;
	z-index: 999;

	ul {
		margin: 0;
	}

	li {
		display: inline-block;
		margin: 0 $home-nav-li-margin / 2;

		a {
			color: $home-nav-a-color;
			font-size: $home-nav-font-size;
			font-style: normal;
			font-weight: lighter;
			opacity: $home-nav-a-initial-opacity;
			text-decoration: none;
			@include transition($home-nav-a-transition);

			&.current {
				opacity: 1;
			}

			@media #{$medium-up} {
				&:hover {
					opacity: 1;
				}
			}

			&:visited {
				color: $home-nav-a-color;
				opacity: $home-nav-a-initial-opacity;
			}
		}
	}
}

#main {
	height: 100%;
	margin: 0;
	overflow: scroll;
	-webkit-overflow-scrolling: touch;
	-ms-overflow-style: -ms-autohiding-scrollbar;

	// @media #{$medium-up} {
	// 	overflow: hidden;
	// }
	padding: 0;
	width: 100%;

	@include translate3d(0, 0, 0);
}

.home-wrapper {
	float: left;
	height: 100%;
	margin: 0 auto;
	position: relative;
	width: 100%;
}

section:not(#main), footer {
	background-attachment: scroll;
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	min-height: 100%;
	left: auto;
	padding: $home-nav-margin * 2 + $home-nav-font-size 0 0 0;
	position: relative;
	top: auto;
	width: 100%;

	@media #{$medium-up} {
		height: 100%;
		overflow: hidden;
		padding: $home-nav-margin * 2 + $home-nav-font-size 0;
		position: absolute;
	}
}

@each $section, $pos, $bg-color, $bg-image in
		(home-greeting, 1, $primary-blue, fback-greeting),
		(home-blog, 2, $darker-cyan),
		(home-travel, 3, $lighter-green),
		(home-authors, 4, $primary-yellow),
		(page-footer, 5, #444) {
	##{$section} {
		@if $bg-image != null {
			background-image: image-url("#{$bg-image}.jpg");
		}
		@else {
			background-color: $bg-color;
		}
		@media #{$medium-up} {
			top: ($pos - 1) * 100% !important;
		}
	}
}

#home-greeting {
	height: 100% !important;
	padding-top: 0 !important;
	top: 0 !important;

	.row {
		left: 50%;
		position: absolute;
		top: 50%;
		@include translate($translate-x: -50%, $translate-y: -50%);

		p {
			color: #FFF;
			margin-top: -1rem;
		}

	}

	// Logo
	@include perlovs-logo($base-size: 1.5rem);

	@media #{$medium-up} {
		@include perlovs-logo($base-size: 2rem);
	}
}

#home-blog, #home-travel {
	.row {
		height: 100%;

		> .column, > .columns {
			height: 100%;
		}

		.article-wrapper {
			background-color: $home-article-bg-color;
			margin-bottom: $home-article-padding;
			max-height: 100%;
			overflow: hidden;
			padding: $home-article-padding $home-article-padding 0;
			position: relative;

			&:after{
				content: ' ';
				display: block;
				background-color: $home-article-bg-color;
				height: $home-article-padding;
				width: 100%;
				position: absolute;
				bottom: 0;
			}
		}

		article {
			.entry-content a {
				@include p1_button();
			}
		}
	}
}

#home-authors {

}

// -----------------------
// Search form
// -----------------------

.search-container {
	.home & {
		@include grid-row(collapse);
	}
}

.search-form {

}

.search-field {
	.home & {
		@include grid-column($columns:10);
		font-size: 1em;
		padding: .5em;
	}
}

.search-submit {
	.home & {
		@include grid-column($columns:2);
		@include p1_button();
		font-size: 1em;
		padding: .5em;
	}
}

// -----------------------
// Social sharing
// -----------------------

.social-bar {

	#social-facebook { background: $primary-blue; }
	#social-twitter { background: $primary-cyan; }
	#social-vk { background: $primary-green; }
	#social-google-plus { background: $primary-red; }
	#social-email { background: $primary-yellow; }

	vertical-align: middle;

	.has-tip {
		border-bottom: none;
	}
}

// -----------------------
// Footer
// -----------------------